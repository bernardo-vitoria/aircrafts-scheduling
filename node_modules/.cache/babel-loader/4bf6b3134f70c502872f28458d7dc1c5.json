{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState } from \"react\";\n\nconst useLocalStorage = ({\n  key,\n  initialValue\n}) => {\n  _s();\n\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      const item = window.localStorage.getItem(key);\n      return item.length > 0 ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      console.log(error);\n      return initialValue;\n    }\n  });\n\n  const setValue = value => {\n    try {\n      const valueToStore = value instanceof Function ? value(storedValue) : value;\n      setStoredValue(valueToStore);\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return [storedValue, setValue];\n};\n\n_s(useLocalStorage, \"JasyQpvjF9qNoiteWnvQuk/Psqs=\");\n\nexport default useLocalStorage;","map":{"version":3,"sources":["/Users/bernardo.vitoria/projects/FE/challenge/src/hooks/useLocalStorage.ts"],"names":["useState","useLocalStorage","key","initialValue","storedValue","setStoredValue","item","window","localStorage","getItem","length","JSON","parse","error","console","log","setValue","value","valueToStore","Function","setItem","stringify"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,OAAzB;;AASA,MAAMC,eAAqB,GAAG,CAAC;AAACC,EAAAA,GAAD;AAAMC,EAAAA;AAAN,CAAD,KAA0B;AAAA;;AACtD,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCL,QAAQ,CAAC,MAAM;AACnD,QAAI;AACF,YAAMM,IAAI,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4BP,GAA5B,CAAb;AAEA,aAAOI,IAAI,CAACI,MAAL,GAAc,CAAd,GAAkBC,IAAI,CAACC,KAAL,CAAWN,IAAX,CAAlB,GAAqCH,YAA5C;AACD,KAJD,CAIE,OAAOU,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,aAAOV,YAAP;AACD;AACF,GAT6C,CAA9C;;AAUA,QAAMa,QAAQ,GAAIC,KAAD,IAAgB;AAC/B,QAAI;AACF,YAAMC,YAAY,GAChBD,KAAK,YAAYE,QAAjB,GAA4BF,KAAK,CAACb,WAAD,CAAjC,GAAiDa,KADnD;AAGAZ,MAAAA,cAAc,CAACa,YAAD,CAAd;AAEAX,MAAAA,MAAM,CAACC,YAAP,CAAoBY,OAApB,CAA4BlB,GAA5B,EAAiCS,IAAI,CAACU,SAAL,CAAeH,YAAf,CAAjC;AACD,KAPD,CAOE,OAAOL,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AACF,GAXD;;AAYA,SAAO,CAACT,WAAD,EAAcY,QAAd,CAAP;AACD,CAxBD;;GAAMf,e;;AA0BJ,eAAeA,eAAf","sourcesContent":["import { useState } from \"react\";\n\ntype HookParams = {\n    key: string;\n    initialValue: any;\n};\n\ntype Hook = (params: HookParams) => any;\n\nconst useLocalStorage: Hook = ({key, initialValue}) =>  {\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      const item = window.localStorage.getItem(key) as any;\n\n      return item.length > 0 ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      console.log(error);\n      return initialValue;\n    }\n  });\n  const setValue = (value: any) => {\n    try {\n      const valueToStore =\n        value instanceof Function ? value(storedValue) : value;\n\n      setStoredValue(valueToStore);\n\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  return [storedValue, setValue];\n}\n\n  export default useLocalStorage;"]},"metadata":{},"sourceType":"module"}